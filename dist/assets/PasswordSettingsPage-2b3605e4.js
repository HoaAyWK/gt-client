import{f as I,v as N,N as A,r as u,u as O,w as k,x as t,O as F,z as T,j as e,F as q,a as s,T as w,D as R,B as h,G as B,H as m,S as D,R as d,Q as P,U as p,I as f,J as j,A as G,E as U,V as $,M as E,W as H,P as L}from"./index-042ccfe6.js";const M=()=>{const i=I(),{enqueueSnackbar:c}=N(),g=A(),[a,S]=u.useState(!1),[r,v]=u.useState(!1),{changePasswordStatus:x}=O(o=>o.account),y=k().shape({oldPassword:t().required("Old Password is required"),newPassword:t().required("New Password is required"),confirmPassword:t().oneOf([F("newPassword"),null],"Confirm Password must match New Password")}),b={oldPassword:"",newPassword:"",confirmPassword:""},l=T({resolver:U(y),defaultValues:b}),{handleSubmit:C}=l;return e(q,{children:[s(w,{variant:"h6",component:"h1",children:"Change password"}),s(R,{sx:{mb:2}}),s(h,{children:s(B,{methods:l,onSubmit:C(async o=>{try{const n=await i($(o));E(n)&&(c("Changed password successfully. Please, log in again!",{variant:"success"}),i(H()),g("/login"))}catch(n){c(n.message,{variant:"error"})}}),children:e(m,{container:!0,children:[s(m,{item:!0,xs:12,sm:7,children:e(D,{spacing:2,children:[s(d,{name:"oldPassword",type:"password",label:"Old Password"}),s(d,{name:"newPassword",type:a?"text":"password",label:"Password",InputProps:{endAdornment:s(P,{position:"end",children:s(p,{onClick:()=>S(!a),edge:"end",children:s(f,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}}),s(d,{name:"confirmPassword",type:r?"text":"password",label:"Confirm Password",InputProps:{endAdornment:s(P,{position:"end",children:s(p,{onClick:()=>v(!r),edge:"end",children:s(f,{icon:r?"eva:eye-fill":"eva:eye-off-fill"})})})}})]})}),e(h,{sx:{mt:2},children:[s(w,{variant:"caption",color:"text.secondary",component:"div",sx:{mb:.5},children:"Make sure it's at least 15 characters OR at least 8 characters including a number and a lowercase letter."}),s(j,{type:"submit",variant:"outlined",loading:x===G.LOADING,children:"Update Password"})]})]})})})]})},Q=()=>s(L,{title:"Change Password",sx:{mt:4},children:s(M,{})});export{Q as default};
