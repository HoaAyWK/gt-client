import{r as n,u as h,j as s,F as S,S as r,a as e,B as u,T as p,L as k,b as g,I as m,c as w,d as B,C as F,e as N,f as $,s as z,A as L,g as M,D as P,h as U,P as W}from"./index-042ccfe6.js";const _=({address:i,countries:d})=>{const{isDefault:a,receiverName:A,phoneNumber:o,street:l,city:c,state:f,country:C}=i,[t,y]=n.useState(!1),[D,x]=n.useState(!1),{updateAddressStatus:b,deleteAddressStatus:v}=h(j=>j.auth),E=()=>{y(!0)},I=()=>{y(!1)},O=()=>{x(!0)},T=()=>{x(!1)};return s(S,{children:[s(r,{spacing:1,children:[e(u,{sx:{display:"flex",alignItems:"center"},children:s(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[s(r,{spacing:1,direction:"row",sx:{alignItems:"center"},children:[e(p,{variant:"body1",fontWeight:"bold",color:"text.primary",children:A}),a&&e(k,{color:"info",sx:{ml:2},children:"Default"})]}),s(r,{spacing:1,direction:"row",children:[s(g,{color:"primary",size:"small",onClick:E,children:[e(m,{icon:"eva:edit-outline",width:20,height:20}),"  Edit"]}),!a&&s(g,{color:"error",size:"small",onClick:O,children:[e(m,{icon:"eva:trash-outline",width:20,height:20}),"  Delete"]})]})]})}),e(p,{variant:"body2",color:"text.primary",children:`${l}, ${c}, ${f}, ${C}`}),s(u,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e(p,{variant:"body2",color:"text.secondary",children:o}),e(r,{spacing:1,direction:"row",children:!a&&e(g,{size:"small",color:"inherit",variant:"outlined",children:"Set as default"})})]})]}),e(w,{open:t,handleClose:I,dialogTitle:"Edit Shipping Address",dialogContent:"Update your shipping address",address:i,isEdit:!0,action:B,status:b,countries:d}),e(F,{dialogTitle:"Confirm delete address",dialogContent:"Are you sure to delete this address",open:D,handleClose:T,itemId:i.id,action:N,status:v})]})},q=()=>{const i=$(),{user:d,addAddressStatus:a}=h(t=>t.auth),[A,o]=n.useState(!1),{getCountriesStatus:l}=h(t=>t.countries),c=h(z),f=n.useMemo(()=>!d||!d.addresses?[]:d.addresses,[d]);return n.useEffect(()=>{l===L.IDLE&&i(M())},[l]),s(S,{children:[s(u,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e(p,{variant:"h6",component:"h1",children:"My Addresses"}),s(g,{variant:"contained",color:"primary",onClick:()=>{o(!0)},children:[e(m,{icon:"eva:plus-outline",width:20,height:20}),"  Add New Address"]})]}),e(r,{spacing:2,children:f.map(t=>s(n.Fragment,{children:[e(P,{sx:{my:2}}),e(_,{address:t,countries:c},t.id)]},t.id))}),e(w,{dialogTitle:"Add address",dialogContent:"Add new shipping address",open:A,handleClose:()=>o(!1),isEdit:!1,action:U,status:a,countries:c})]})},H=()=>e(W,{title:"My Addresses",sx:{mt:4},children:e(q,{})});export{H as default};
